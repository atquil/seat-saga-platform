databaseChangeLog:
  - changeSet:
      id: insert-initial-data-sql
      author: atquil
      comment: "Seeding demo data for partners, theatres, movies, shows, and seats"
      dbms: postgresql
      changes:
        - sql:
            sql: |
              -- üë• Demo Partner
              INSERT INTO seat_saga_partner (name, contact_email, api_key)
              VALUES ('Demo Partner', 'partner@example.com', 'APIKEY123');

              -- üé≠ Demo Theatre
              INSERT INTO seat_saga_theatre (partner_id, name, city, address)
              VALUES (1, 'Grand Theatre', 'Bengaluru', 'MG Road, Bengaluru');

              -- üñ•Ô∏è Demo Screen
              INSERT INTO seat_saga_screen (theatre_id, name, seat_layout_json)
              VALUES (1, 'Screen 1', '{"rows":10,"cols":20}');

              -- üé¨ Demo Movie
              INSERT INTO seat_saga_movie (title, language, genre, duration_mins, release_date)
              VALUES ('Inception', 'English', 'Sci-Fi', 148, '2010-07-16');

              -- ‚è∞ Demo Show
              INSERT INTO seat_saga_show (movie_id, screen_id, start_time, end_time)
              VALUES (1, 1, '2026-01-18 18:00:00', '2026-01-18 21:00:00');

              -- üí∫ Demo Seats
              INSERT INTO seat_saga_show_seat (show_id, seat_number, status, price)
              VALUES 
                (1, 'A1', 'AVAILABLE', 250.00),
                (1, 'A2', 'AVAILABLE', 250.00),
                (1, 'A3', 'AVAILABLE', 250.00);

      rollback:
        - sql:
            sql: |
              DELETE FROM seat_saga_show_seat WHERE show_id = 1;
              DELETE FROM seat_saga_show WHERE id = 1;
              DELETE FROM seat_saga_movie WHERE id = 1;
              DELETE FROM seat_saga_screen WHERE id = 1;
              DELETE FROM seat_saga_theatre WHERE id = 1;
              DELETE FROM seat_saga_partner WHERE id = 1;
